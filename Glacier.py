from модули.базовые import tokenize
from модули.движок import menu
from исполнитель import initialize_engine, process_matrix_commands

МОДУЛИ_ДЛЯ_ЗАГРУЗКИ = ['движок', 'основные']

# Вызываем функцию входа, передавая список модулей
initialize_engine(preload_modules=МОДУЛИ_ДЛЯ_ЗАГРУЗКИ) 
# Теперь команды из этих модулей (например, 'приветсвовать' и 'вывести')
# уже зарегистрированы и готовы к работе.

# --- 2. Получение и Выполнение Команд ---
command = menu() 
tokens = tokenize(command)

print("\n--- Выполнение команд ---")
# Теперь вводимый текст команд может не содержать "импорт", 
# если команды уже загружены:
# Например, если пользователь введет: "приветсвовать Гость"
results = process_matrix_commands(tokens)

print("\n--- Выполнение завершено ---")
